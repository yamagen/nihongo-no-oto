## おろかな開発と愛のないコード

### 日付: 2025-08-27

### Last updated: 2025/08/27-10:36:00

---

### 概要（Summary）

セキュリティを名目にした盲目的な対策が、表現や設計思想をないがしろにしている現実。htmlspecialchars() の無条件適用、意味もなく繰り返される escape 処理、その背景にある「考えないコード」。この記録では、現場の思考停止と、ユーザ体験や開発哲学への無関心を批判的に考察する。

---

### 本文

#### 「セキュリティだから」の魔法の言葉

Web開発では「セキュリティだから escape する」という言い訳が、しばしば思考の回路を止めるトリガーになる。特に `htmlspecialchars()` をすべての出力に適用することで「とりあえず安全」という気分を得て、なぜ escape が必要か、いつ必要か、誰がその出力を読むのかを考えなくなる。

#### 誰のためのコードか？

- `<kbd>ESC</kbd>` のような HTML は、設計された文書構造であり、ユーザへの思いやりである。
- しかし「XSSが怖い」という恐怖のもとに、それすら排除しようとするコードは、**ユーザに優しくない**。
- セキュリティと表現はトレードオフではなく、**文脈に応じた設計**こそが愛のあるコードである。

#### 「escape しておけばいい」という習慣

業者によって作られるコードの中には「escape を常に入れておくこと」が慣習化され、それが仕様書にもなってしまっている。「とりあえず escape」は**保険にはなっても思考にはならない**。セキュリティを信仰とし、評価基準を他人任せにする開発現場の姿勢こそが問題である。

#### 愛のあるコードを書くために

- 出力先（HTMLなのか、JSONなのか）を意識する
- 誰が読むのか、何を伝えたいのかを考える
- escape すべきタイミングを判断できる知性と責任
- 表現と設計の自由のために、あえて escape しないことも選択肢である
- セキュリティは手段であって目的ではない

#### 結論

これが大手の開発業者の現実である。
何も考えないひとがコードを書いてきて、後輩にまた同じことを言うのだろう。
「とりあえず`htmlspecialchars()`入れとけ」と。

---

### メモ・タグ・関連プロジェクト

- タグ: `#nihongo-no-oto`, `#コードの倫理`, `#セキュリティ`, `#escape信仰`, `#愛ある設計`
- 関連プロジェクト:
  - [AEAD: An Expression A Day]
  - [LEAP: Lightweight Exam Assistant Platform]
  - [k2g: 古語構文解析とgloss構造化プロジェクト]

---
